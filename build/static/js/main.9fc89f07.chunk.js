(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],Array(22).concat([function(e,t,n){},,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(12),r=n.n(s),i=(n(28),n(2)),l=n(3),o=n(6),u=n(4),j=n.n(u),d=n(8),b=(n(30),n(0)),p=function(e){return Object(b.jsx)("div",{className:"avatar ".concat(e.className),style:e.style,children:Object(b.jsx)("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}})})},O=(n(32),function(e){return Object(b.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}),h=(n(33),function(e){return Object(b.jsx)("li",{className:"user-item",children:Object(b.jsx)(O,{className:"user-item__content",children:Object(b.jsxs)(o.b,{to:"/".concat(e.id,"/places"),children:[Object(b.jsx)("div",{className:"user-item__image",children:Object(b.jsx)(p,{image:"".concat("https://travelogues.herokuapp.com","/").concat(e.image),alt:e.name})}),Object(b.jsxs)("div",{className:"user-item__info",children:[Object(b.jsx)("h2",{children:e.name}),Object(b.jsxs)("h3",{children:[e.placeCount," ",1===e.placeCount?"Place":"Places"]})]})]})})})}),x=(n(39),function(e){return 0===e.items.length?Object(b.jsx)("div",{className:"center",children:Object(b.jsx)(O,{children:Object(b.jsx)("h2",{children:"No users found."})})}):Object(b.jsx)("ul",{className:"users-list",children:e.items.map((function(e){return Object(b.jsx)(h,{id:e.id,image:e.image,name:e.name,placeCount:e.places.length},e.id)}))})}),m=n(7),f=(n(40),function(e){return r.a.createPortal(Object(b.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}),v=(n(41),function(e){var t=Object(b.jsx)("div",{className:"modal ".concat(e.className),style:e.style,children:Object(b.jsxs)("header",{className:"modal__header ".concat(e.headerClass),children:[Object(b.jsx)("h2",{children:e.header}),Object(b.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(b.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(b.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]})});return r.a.createPortal(t,document.getElementById("modal-hook"))}),g=function(e){return Object(b.jsxs)(a.a.Fragment,{children:[e.show&&Object(b.jsx)(f,{onClick:e.onCancel}),e.show&&Object(b.jsx)(v,Object(m.a)({},e))]})},k=(n(42),function(e){return e.href?Object(b.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(b.jsx)(o.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(b.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),N=function(e){return Object(b.jsx)(g,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:Object(b.jsx)(k,{onClick:e.onClear,children:"Okay"}),children:Object(b.jsx)("p",{children:e.error})})},S=(n(43),function(e){return Object(b.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(b.jsx)("div",{className:"lds-dual-ring"})})}),w=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(),l=Object(i.a)(r,2),o=l[0],u=l[1],p=Object(c.useState)(),O=Object(i.a)(p,2),h=O[0],m=O[1];Object(c.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,fetch("https://travelogues.herokuapp.com/api/users");case 4:return t=e.sent,e.next=7,t.json();case 7:if(n=e.sent,t.ok){e.next=10;break}throw new Error(n.message);case 10:m(n.users),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),u(e.t0.message);case 16:s(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(N,{error:o,onClear:function(){u(null)}}),n&&Object(b.jsx)("div",{className:"center",children:Object(b.jsx)(S,{})}),!n&&h&&Object(b.jsx)(x,{items:h})]})},C=(n(44),function(e,t){switch(t.type){case"CHANGE":var n=!0;return 0===t.val.length&&(n=!1),Object(m.a)(Object(m.a)({},e),{},{value:t.val,isValid:n});default:return e}}),y=function(e){var t=Object(c.useReducer)(C,{type:"",value:e.value||"",isValid:e.valid||!1}),n=Object(i.a)(t,2),a=n[0],s=n[1],r=function(e){s({type:"CHANGE",val:e.target.value})},l=e.id,o=e.onInput,u=a.value,j=a.isValid;Object(c.useEffect)((function(){o(l,u,j)}),[o,l,u,j]);var d="input"===e.element?Object(b.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:r,value:a.value}):Object(b.jsx)("textarea",{value:a.value,onChange:r,id:e.id,rows:e.rows||3});return Object(b.jsxs)("div",{className:"form-control ".concat(!a&&"form-control__invalid"),children:[Object(b.jsx)("label",{htmlFor:e.id,children:e.label}),d]})},I=(n(22),n(15)),E=function(e,t){switch(t.type){case"CHANGE":var n=!0;for(var c in e.inputs)e.inputs[c]&&(n=c===t.inputID?n&&t.isValid:n&&e.inputs[c].isValid);return Object(m.a)(Object(m.a)({},e),{},{inputs:Object(m.a)(Object(m.a)({},e.inputs),{},Object(I.a)({},t.inputID,{value:t.value,isValid:t.isValid})),isValid:n});case"SET":return{inputs:t.value,isValid:t.isValid};default:return e}},D=function(e,t){var n=Object(c.useReducer)(E,{inputs:e,isValid:t}),a=Object(i.a)(n,2),s=a[0],r=a[1];return[s,Object(c.useCallback)((function(e,t,n){r({type:"CHANGE",value:t,isValid:n,inputID:e})}),[]),Object(c.useCallback)((function(e,t){r({type:"SET",value:e,isValid:t})}),[])]},V=Object(c.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}}),A=(n(45),function(e){var t=Object(c.useRef)(),n=Object(c.useState)(),a=Object(i.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)(),o=Object(i.a)(l,2),u=o[0],j=o[1],d=Object(c.useState)(!1),p=Object(i.a)(d,2),O=p[0],h=p[1];Object(c.useEffect)((function(){if(s){var e=new FileReader;e.onload=function(){j(e.result)},e.readAsDataURL(s)}}),[s]);return Object(b.jsxs)("div",{className:"form-control",children:[Object(b.jsx)("input",{type:"file",ref:t,onChange:function(t){var n;console.log(t.target);var c=O;t.target.files&&1===t.target.files.length?(n=t.target.files[0],r(n),h(!0),c=!0):(c=!1,h(!1)),e.onInput(e.id,n,c)},id:e.id,style:{display:"none"},accept:".jpg,.png,.jpeg"}),Object(b.jsxs)("div",{className:"image-upload ".concat(e.center&&"center"),children:[Object(b.jsxs)("div",{className:"image-upload__preview",children:[u&&Object(b.jsx)("img",{src:u,alt:"Preview"}),!u&&Object(b.jsx)("p",{children:"PLEASE Pick An Image!"})]}),Object(b.jsx)(k,{type:"button",onClick:function(){t.current.click()},children:"Pick Image"})]})]})}),P=function(){var e=Object(c.useContext)(V),t=Object(c.useState)(!1),n=Object(i.a)(t,2),s=n[0],r=n[1],o=Object(c.useState)(),u=Object(i.a)(o,2),p=u[0],O=u[1],h=Object(l.g)(),x=D({title:{value:"",isValid:!1},description:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1}},!1),m=Object(i.a)(x,2),f=m[0],v=m[1],g=function(){var t=Object(d.a)(j.a.mark((function t(n){var c,a,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("Inside SubmitHandler"),r(!0),t.prev=3,(c=new FormData).append("title",f.inputs.title.value),c.append("description",f.inputs.description.value),c.append("address",f.inputs.address.value),c.append("creator",e.userId),c.append("image",f.inputs.image.value),t.next=12,fetch("https://travelogues.herokuapp.com/api/places",{method:"POST",headers:{Authorization:"Bearer "+e.token},body:c});case 12:return a=t.sent,t.next=15,a.json();case 15:s=t.sent,console.log(s),h.push("/"),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(3),O(t.t0),console.log(t.t0.message);case 24:r(!1);case 25:case"end":return t.stop()}}),t,null,[[3,20]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(N,{onClear:function(){O(null)},error:p}),s&&Object(b.jsx)(S,{asOverlay:!0}),Object(b.jsxs)("form",{className:"place-form",onSubmit:g,children:[Object(b.jsx)(y,{id:"title",element:"input",type:"text",label:"Title",errorText:"Please Enter A Valid Title",onInput:v}),Object(b.jsx)(y,{id:"description",element:"textarea",label:"Description",errorText:"Valid Placeholder",onInput:v}),Object(b.jsx)(y,{id:"address",element:"input",type:"text",label:"Address",errorText:"Please Enter A Valid Address",onInput:v}),Object(b.jsx)(A,{id:"image",onInput:v,errorText:"Please Provide An Image"}),Object(b.jsx)("div",{className:"add-place",children:Object(b.jsx)(k,{type:"submit",disabled:!f.isValid,children:" ADD PLACE "})})]})]})},_=(n(46),function(e){return Object(b.jsx)("header",{className:"main-header",children:e.children})}),T=(n(47),function(e){var t=Object(c.useContext)(V);return Object(b.jsxs)("ul",{className:"nav-links",children:[Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/",exact:!0,children:"ALL USERS"})}),t.isLoggedIn&&Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/".concat(t.userId,"/places"),children:"MY PLACES"})}),t.isLoggedIn&&Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/places/new",children:"ADD PLACE"})}),!t.isLoggedIn&&Object(b.jsx)("li",{children:Object(b.jsx)(o.c,{to:"/auth",children:"AUTHENTICATE"})}),t.isLoggedIn&&Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:t.logout,children:"LogOut"})})]})}),L=(n(48),function(e){var t=Object(b.jsx)("aside",{className:"side-drawer",onClick:e.OnClick,children:e.children});return r.a.createPortal(t,document.getElementById("drawer-hook"))}),F=(n(49),function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),s=n[0],r=n[1],l=function(e){r(!1)};return Object(b.jsxs)(a.a.Fragment,{children:[s?Object(b.jsx)(f,{onClick:l}):null,s?Object(b.jsx)(L,{onClick:l,children:Object(b.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(b.jsx)(T,{})})}):null,Object(b.jsxs)(_,{children:[Object(b.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(e){r(!0)},children:[Object(b.jsx)("span",{}),Object(b.jsx)("span",{}),Object(b.jsx)("span",{})]}),Object(b.jsx)("h1",{className:"main-navigation__title",children:Object(b.jsx)(o.b,{to:"/",children:"travelogue"})}),Object(b.jsx)("nav",{className:"main-navigation__header-nav",children:Object(b.jsx)(T,{})})]})]})}),G=(n(50),n(51),n(52),n(16)),U=n.n(G);U.a.accessToken="pk.eyJ1Ijoic3VkaGFuc2h1bmF1dGl5YWw3NzciLCJhIjoiY2twcGpqMHU2MDhkbTJ2cXpjcHMxN2NwNiJ9.tpjGbrYNQhW6uofw117KVQ";var J,R=function(e){var t=Object(c.useContext)(V),n=Object(c.useState)(!1),s=Object(i.a)(n,2),r=s[0],l=s[1],o=Object(c.useState)(!1),u=Object(i.a)(o,2),p=(u[0],u[1]),h=Object(c.useState)(),x=Object(i.a)(h,2),m=x[0],f=x[1],v=function(){return l(!1)},S=function(){var n=Object(d.a)(j.a.mark((function n(){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Deleting"),l(!1),p(!0),n.prev=3,n.next=6,fetch("https://travelogues.herokuapp.com/api"+"/places/".concat(e.id),{method:"DELETE",headers:{Authorization:"Bearer "+t.token}});case 6:n.sent,e.onDelete(e.id),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),f(n.t0.message);case 13:p(!1);case 14:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(){return n.apply(this,arguments)}}(),w=Object(c.useState)(!1),C=Object(i.a)(w,2);C[0],C[1];return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(N,{error:m,onClear:function(){return f(null)}}),Object(b.jsx)(g,{show:r,onCancel:v,header:"Are You Sure?",footer:Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(k,{inverse:!0,onClick:v,children:"Cancel"}),Object(b.jsx)(k,{danger:!0,onClick:S,children:"Delete"})]}),children:"Are you Sure ? It can't be undone"}),Object(b.jsx)("li",{className:"place-item",children:Object(b.jsxs)(O,{className:"place-item__content",children:[Object(b.jsx)("div",{className:"place-item__image",children:Object(b.jsx)("img",{src:"".concat("https://travelogues.herokuapp.com","/").concat(e.img),alt:e.title})}),Object(b.jsxs)("div",{className:"place-item__info",children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)("h4",{children:e.address}),Object(b.jsx)("p",{children:'"'.concat(e.description,'"')})]}),Object(b.jsxs)("div",{className:"place-item__actions",children:[t.userId===e.creatorID&&Object(b.jsx)(k,{to:"/places/".concat(e.id),children:"Edit"}),t.userId===e.creatorID&&Object(b.jsx)(k,{danger:!0,onClick:function(){l(!0)},children:"Delete"})]})]})})]})},H=function(e){Object(c.useContext)(V);return e.items&&0!==e.items.length?Object(b.jsx)("ul",{className:"place-list",children:e.items.map((function(t){return Object(b.jsx)(R,{onDelete:e.onDeletePlace,id:t.id,img:t.image,title:t.title,description:t.description,address:t.address,creatorID:t.creator,coordinates:t.location},t.id)}))}):Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:" NO Place Found !"}),Object(b.jsx)("div",{className:"Link",children:Object(b.jsx)(o.c,{to:"/places/new",children:"Add A Place"})})]})},z=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),u=o[0],p=o[1],O=Object(c.useState)(),h=Object(i.a)(O,2),x=h[0],m=h[1],f=Object(l.h)().userID;Object(c.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,fetch("https://travelogues.herokuapp.com/api"+"/places/user/".concat(f));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,s(n.place||[]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),m(e.t0.message);case 14:p(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[f]);return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(N,{onClear:function(){return m(null)},error:x}),u&&Object(b.jsx)("div",{children:Object(b.jsx)(S,{asOverlay:!0})}),!u&&n&&Object(b.jsx)(H,{items:n,onDeletePlace:function(e){s((function(t){return t.filter((function(t){return t.id!==e}))}))}})]})},B=function(e){var t=Object(c.useState)(),n=Object(i.a)(t,2),s=n[0],r=n[1],o=Object(c.useState)(!1),u=Object(i.a)(o,2),p=u[0],O=u[1],h=Object(c.useState)(),x=Object(i.a)(h,2),m=x[0],f=x[1],v=Object(l.h)().pid,g=Object(l.g)(),w=Object(c.useContext)(V),C=D({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),I=Object(i.a)(C,3),E=I[0],A=I[1],P=I[2];Object(c.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,fetch("https://travelogues.herokuapp.com/api"+"/places/".concat(v));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r(n.place),P({title:{value:n.place.title,isValid:!0},description:{value:n.place.description,isValid:!0}},!0),console.log(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),f(e.t0.message);case 16:O(!1);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}})()()}),[r,P,v]);var _=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,O(!0),e.next=5,fetch("https://travelogues.herokuapp.com/api"+"/places/".concat(v),{method:"PATCH",body:JSON.stringify({title:E.inputs.title.value,description:E.inputs.description.value}),headers:{Authorization:"Bearer "+w.token,"Content-Type":"application/json"}});case 5:e.sent,O(!1),g.push("/"+w.userId+"/places"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),O(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return p||s?Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(N,{error:m,onClear:function(){return f(null)}}),p&&Object(b.jsx)("div",{children:Object(b.jsx)(S,{})}),!p&&s&&Object(b.jsxs)("form",{className:"place-form",onSubmit:_,children:[Object(b.jsx)(y,{id:"title",element:"input",type:"text",errorText:"Enter Valid Title",label:"Title",onInput:A,value:E.inputs.title.value,valid:E.inputs.title.isValid}),Object(b.jsx)(y,{id:"description",element:"textarea",type:"text",errorText:"Enter Valid Description",label:"Description",onInput:A,value:E.inputs.description.value,valid:E.inputs.title.isValid}),Object(b.jsx)(k,{type:"submit",disabled:!E.isValid,children:"UPDATE PLACE"})]})]}):Object(b.jsx)("h2",{children:"NOT FOUND"})},W=(n(53),function(e){var t=Object(c.useContext)(V),n=Object(c.useState)(!0),s=Object(i.a)(n,2),r=s[0],l=s[1],o=Object(c.useState)(!1),u=Object(i.a)(o,2),p=u[0],h=u[1],x=Object(c.useState)(),f=Object(i.a)(x,2),v=f[0],g=f[1],w=D({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),C=Object(i.a)(w,3),I=C[0],E=C[1],P=C[2],_=function(){var e=Object(d.a)(j.a.mark((function e(n){var c,a,s,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),h(!0),!r){e.next=24;break}return e.prev=3,h(!0),e.next=7,fetch("https://travelogues.herokuapp.com/api/users/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:I.inputs.email.value,password:I.inputs.password.value})});case 7:return c=e.sent,e.next=10,c.json();case 10:if(a=e.sent,c.ok){e.next=13;break}throw new Error(a.message);case 13:h(!1),t.login(a.userId,a.token),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(3),h(!1),console.log("Error: ",e.t0),g(e.t0.message||"Something Went Wrong!Please Try Again");case 22:e.next=48;break;case 24:return e.prev=24,(s=new FormData).append("email",I.inputs.email.value),s.append("username",I.inputs.name.value),s.append("password",I.inputs.password.value),s.append("image",I.inputs.image.value),e.next=32,fetch("https://travelogues.herokuapp.com/api/users/signup",{method:"POST",body:s});case 32:return i=e.sent,e.next=35,i.json();case 35:if(l=e.sent,console.log(l),i.ok){e.next=39;break}throw new Error(l.message);case 39:h(!1),t.login(l.userId,l.token),e.next=48;break;case 43:e.prev=43,e.t1=e.catch(24),h(!1),console.log("Error",e.t1),g(e.t1.message||"Something Went Wrong!Please Try Again");case 48:case"end":return e.stop()}}),e,null,[[3,17],[24,43]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(N,{error:v,onClear:function(){g(null)}}),Object(b.jsxs)(O,{className:"authentication",children:[p&&Object(b.jsx)(S,{asOverlay:!0}),Object(b.jsx)("h2",{children:r?"LOGIN":"SIGN UP"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("form",{onSubmit:_,children:[!r&&Object(b.jsx)(y,{onInput:E,id:"name",type:"text",element:"input",label:"USERNAME"}),!r&&Object(b.jsx)(A,{center:!0,onInput:E,id:"image",errorText:"Please provide an image"}),Object(b.jsx)(y,{onInput:E,id:"email",type:"email",element:"input",label:"EMAIL"}),Object(b.jsx)(y,{onInput:E,id:"password",type:"password",element:"input",label:"PASSWORD"}),Object(b.jsx)(k,{disabled:!I.isValid,children:r?"LOGIN":"SIGN UP"})]}),Object(b.jsx)("br",{}),Object(b.jsxs)(k,{onClick:function(){r?P(Object(m.a)(Object(m.a)({},I.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):P(Object(m.a)(Object(m.a)({},I.inputs),{},{name:void 0,image:void 0}),I.inputs.email.isValid&&I.inputs.password.isValid),l((function(e){return!e}))},children:["\u2192 ",r?"SIGN UP":"LOGIN"]})]})]})}),M=(n(54),function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"starter",children:Object(b.jsx)("div",{className:"starter-heading",children:"Explore And Share!"})}),Object(b.jsx)("div",{className:"starter-after",children:"OUR USERS"})]})}),Y=function(){var e,t=Object(c.useState)(),n=Object(i.a)(t,2),s=n[0],r=n[1],u=Object(c.useState)(!1),j=Object(i.a)(u,2),d=j[0],p=j[1],O=Object(c.useState)(),h=Object(i.a)(O,2),x=h[0],m=h[1],f=Object(c.useCallback)((function(e,t,n){m(e),p(t);var c=n||new Date((new Date).getTime()+36e5);r(c),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expire:c.toISOString()}))}),[]),v=Object(c.useCallback)((function(){m(null),r(null),p(null),localStorage.removeItem("userData")}),[]);return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expire)>new Date&&f(e.userId,e.token,new Date(e.expire))}),[f]),Object(c.useEffect)((function(){if(d&&s){var e=s.getTime()-(new Date).getTime();J=setTimeout(v,e)}else clearTimeout(J)}),[d,v,s]),e=d?Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/",exact:!0,children:Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(M,{}),Object(b.jsx)(w,{})]})}),Object(b.jsx)(l.b,{path:"/:userID/places",exact:!0,children:Object(b.jsx)(z,{})}),Object(b.jsx)(l.b,{path:"/places/new",exact:!0,children:Object(b.jsx)(P,{})}),Object(b.jsx)(l.b,{path:"/places/:pid",exact:!0,children:Object(b.jsx)(B,{})}),Object(b.jsx)(l.a,{to:"/"})]}):Object(b.jsxs)(l.d,{children:[Object(b.jsx)(l.b,{path:"/",exact:!0,children:Object(b.jsxs)(a.a.Fragment,{children:[Object(b.jsx)(M,{}),Object(b.jsx)(w,{})]})}),Object(b.jsx)(l.b,{path:"/:userID/places",exact:!0,children:Object(b.jsx)(z,{})}),Object(b.jsx)(l.b,{path:"/auth",exact:!0,children:Object(b.jsx)(W,{})}),Object(b.jsx)(l.a,{to:"/auth"})]}),Object(b.jsx)(V.Provider,{value:{isLoggedIn:!!d,userId:x,token:d,login:f,logout:v},children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(F,{}),Object(b.jsx)("main",{children:e})]})})};r.a.render(Object(b.jsx)(Y,{}),document.getElementById("root"))}]),[[55,1,2]]]);
//# sourceMappingURL=main.9fc89f07.chunk.js.map
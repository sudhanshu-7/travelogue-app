{"version":3,"sources":["shared/components/UIElements/Avatar.js","shared/components/UIElements/Card.js","user/components/UserItem.js","user/components/UsersList.js","shared/components/UIElements/Backdrop.js","shared/components/UIElements/Modal.js","shared/components/FormComponent/Button.js","shared/components/UIElements/ErrorModal.js","shared/components/UIElements/LoadingSpinner.js","user/pages/Users.js","shared/components/FormComponent/Input.js","shared/hooks/form-hook.js","shared/context/auth-context.js","shared/components/FormComponent/ImageUpload.js","places/pages/NewPlace.js","shared/components/Navigation/MainHeader.js","shared/components/Navigation/NavLinks.js","shared/components/Navigation/SideDrawer.js","shared/components/Navigation/MainNavigation.js","shared/components/UIElements/Map.js","App.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js","places/pages/UpdatePlace.js","user/pages/Auth.js","user/components/Starting.js","index.js"],"names":["Avatar","props","className","style","src","image","alt","width","height","Card","children","UserItem","to","id","process","name","placeCount","UsersList","items","length","map","user","places","Backdrop","ReactDOM","createPortal","onClick","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","Modal","Fragment","show","onCancel","Button","href","size","inverse","danger","exact","type","disabled","ErrorModal","onClear","error","LoadingSpinner","asOverlay","Users","useState","isLoading","setLoading","setErorr","loadedUsers","setLoadedUsers","useEffect","a","fetch","response","json","data","ok","Error","message","users","sendRequest","inputReducer","state","action","x","val","value","isValid","Input","useReducer","valid","inputState","dispatch","changeHandler","target","onInput","element","placeholder","onChange","rows","htmlFor","label","formReducer","formIsValid","inputID","inputs","useForm","input","iniVal","formState","useCallback","AuthContext","createContext","isLoggedIn","userId","token","login","logout","ImageUpload","filePickerRef","useRef","file","setFile","previewUrl","setPreviewUrl","setIsValid","fileReader","FileReader","onload","result","readAsDataURL","ref","PickedFile","console","log","FileIsValid","files","display","accept","center","current","click","NewPlace","auth","useContext","setError","history","useHistory","title","description","address","InputHandler","submitHandler","formData","FormData","append","method","headers","Authorization","body","responseData","push","errorText","MainHeader","NavLinks","SideDrawer","OnClick","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawer","e","mapboxgl","accessToken","LogoutTimer","PlaceItem","showConfirmModal","setSCM","cancelDeleteHandler","confirmDeleteHandler","onDelete","img","creatorID","PlaceList","place","onDeletePlace","creator","coordinates","location","UserPlaces","loadedPlaces","setLoadedPlaces","userid","useParams","userID","pid","prev","filter","UpdatePlace","loadedPlace","setLoadedPlace","PID","inputHandler","setForm","submitForm","JSON","stringify","Auth","loginMode","setLoginMode","loading","email","password","authSubmitHandler","undefined","HomePage","App","routes","tokenExpire","setTokenExpire","setToken","setUserId","uid","exp","expirationDate","Date","getTime","localStorage","setItem","expire","toISOString","removeItem","storedData","parse","getItem","left","setTimeout","clearTimeout","path","Provider","render"],"mappings":"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","file":"static/js/main.9fc89f07.chunk.js","sourcesContent":["import React from 'react';\n\nimport './Avatar.css';\n\nconst Avatar = props => {\n  return (\n    <div className={`avatar ${props.className}`} style={props.style}>\n      <img\n        src={props.image}\n        alt={props.alt}\n        style={{ width: props.width, height: props.width }}\n      />\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return (\n    <div className={`card ${props.className}`} style={props.style}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Avatar from '../../shared/components/UIElements/Avatar';\nimport Card from '../../shared/components/UIElements/Card';\nimport './UserItem.css';\n\nconst UserItem = props => {\n  return (\n    <li className=\"user-item\">\n      <Card className=\"user-item__content\">\n        <Link to={`/${props.id}/places`}>\n          <div className=\"user-item__image\">\n            <Avatar image={`${process.env.REACT_APP_ASSET_URL}/${props.image}`} alt={props.name} />\n          </div>\n          <div className=\"user-item__info\">\n            <h2>{props.name}</h2>\n            <h3>\n              {props.placeCount} {props.placeCount === 1 ? 'Place' : 'Places'}\n            </h3>\n          </div>\n        </Link>\n      </Card>\n    </li>\n  );\n};\n\nexport default UserItem;\n","import React from 'react';\n\nimport UserItem from './UserItem';\nimport Card from '../../shared/components/UIElements/Card';\nimport './UsersList.css';\n\nconst UsersList = props => {\n  if (props.items.length === 0) {\n    return (\n      <div className=\"center\">\n        <Card>\n          <h2>No users found.</h2>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <ul className=\"users-list\">\n      {props.items.map(user => (\n        <UserItem\n          key={user.id}\n          id={user.id}\n          image={user.image}\n          name={user.name}\n          placeCount={user.places.length}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default UsersList;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst Backdrop = props => {\n  return ReactDOM.createPortal(\n    <div className=\"backdrop\" onClick={props.onClick}></div>,\n    document.getElementById('backdrop-hook')\n  );\n};\n\nexport default Backdrop;\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Backdrop from \"./Backdrop\"\r\nimport './Modal.css'\r\n\r\nconst ModalOverlay = props =>{\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal__header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n                <form onSubmit={props.onSubmit?props.onSubmit:event=>event.preventDefault()}>\r\n                    <div className={`modal__content ${props.contentClass}`}>\r\n                        {props.children}\r\n                    </div>\r\n                    <footer className={`modal__footer ${props.footerClass}`}>\r\n                        {props.footer}\r\n                    </footer>\r\n                </form>\r\n            </header>\r\n        </div>\r\n    )\r\n    return ReactDOM.createPortal(content,document.getElementById(\"modal-hook\"))\r\n}\r\n\r\nconst Modal = props =>{\r\n    return (\r\n        <React.Fragment>\r\n            {props.show && <Backdrop onClick={props.onCancel} />}\r\n            {props.show && <ModalOverlay {...props}/>}\r\n        </React.Fragment>\r\n    )\r\n};\r\n\r\nexport default Modal;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst Button = props => {\n  if (props.href) {\n    return (\n      <a\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n        href={props.href}\n      >\n        {props.children}\n      </a>\n    );\n  }\n  if (props.to) {\n    return (\n      <Link\n        to={props.to}\n        exact={props.exact}\n        className={`button button--${props.size || 'default'} ${props.inverse &&\n          'button--inverse'} ${props.danger && 'button--danger'}`}\n      >\n        {props.children}\n      </Link>\n    );\n  }\n  return (\n    <button\n      className={`button button--${props.size || 'default'} ${props.inverse &&\n        'button--inverse'} ${props.danger && 'button--danger'}`}\n      type={props.type}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\n\nimport Modal from './Modal';\nimport Button from '../FormComponent/Button';\n\nconst ErrorModal = props => {\n  return (\n    <Modal\n      onCancel={props.onClear}\n      header=\"An Error Occurred!\"\n      show={!!props.error}\n      footer={<Button onClick={props.onClear}>Okay</Button>}\n    >\n      <p>{props.error}</p>\n    </Modal>\n  );\n};\n\nexport default ErrorModal;\n","import React from 'react';\n\nimport './LoadingSpinner.css';\n\nconst LoadingSpinner = props => {\n  return (\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\n      <div className=\"lds-dual-ring\"></div>\n    </div>\n  );\n};\n\nexport default LoadingSpinner;\n","import React, { useEffect, useState } from \"react\"\r\nimport UsersList from \"../components/UsersList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nconst Users=()=>{\r\n    const [isLoading,setLoading] = useState(false)\r\n    const [error,setErorr] = useState()\r\n    const [loadedUsers,setLoadedUsers] = useState()\r\n    useEffect(()=>{\r\n        const sendRequest = async ()=>{\r\n            setLoading(true)\r\n            try\r\n            {const response = await fetch(process.env.REACT_APP_BACKEND_URL+\"/users\")\r\n            const data = await response.json()\r\n            if(!response.ok){\r\n                throw new Error(data.message)\r\n            }\r\n            setLoadedUsers(data.users)\r\n            \r\n        }catch(err){\r\n            setErorr(err.message)\r\n        }\r\n        setLoading(false)\r\n        }\r\n        sendRequest()  \r\n    },[])\r\n    const errorHandler  = ()=>{\r\n        setErorr(null)\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={errorHandler}/>\r\n            {isLoading && <div className = \"center\">\r\n                <LoadingSpinner />\r\n                </div>}\r\n        {!isLoading && loadedUsers && <UsersList items={loadedUsers}/>}\r\n        </React.Fragment>\r\n        );\r\n\r\n}\r\nexport default Users;","import React, { useEffect, useReducer } from \"react\"\r\nimport './Input.css'\r\n\r\nconst inputReducer = (state,action)=>{\r\n    switch(action.type){\r\n        case \"CHANGE\":\r\n            let x = true;\r\n            if(action.val.length === 0) x = false;\r\n            return {\r\n                ...state,\r\n                value:action.val,\r\n                isValid:x\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst Input = (props)=>{\r\n    const [inputState , dispatch] = useReducer(inputReducer,{type:\"\",value:props.value|| \"\",isValid:props.valid || false})\r\n    const changeHandler = (event)=>{\r\n        // console.log(\"Inside INPUT.JS \"+event.target.value);\r\n        dispatch({\r\n            type:\"CHANGE\",  \r\n            val:event.target.value\r\n        });\r\n    }\r\n    const {id,onInput} = props;\r\n    const {value,isValid} = inputState;\r\n    useEffect(()=>{\r\n        // console.log(inputState.value);\r\n        onInput(id,value,isValid);\r\n    },[onInput,id,value,isValid])\r\n    const element = props.element === 'input'?<input id = {props.id} type={props.type} placeholder={props.placeholder} onChange={changeHandler} value ={inputState.value}/>:<textarea value={inputState.value} onChange={changeHandler} id={props.id} rows={props.rows || 3}/>\r\n    return (\r\n        <div className={`form-control ${!inputState && 'form-control__invalid'}`}>\r\n            <label htmlFor={props.id}>{props.label}</label>\r\n            {element}\r\n            {/* {!inputState.isValid && <p>{props.errorText}</p>} */}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Input;","import React, { useReducer } from \"react\"\r\nimport { useCallback } from \"react\";\r\nconst formReducer = (state,action)=>{\r\n    switch(action.type){\r\n      case \"CHANGE\":\r\n        let formIsValid = true;\r\n        for(const inputID in state.inputs){\r\n          if(!state.inputs[inputID]) continue\r\n          if(inputID === action.inputID){\r\n            formIsValid = formIsValid && action.isValid\r\n          }\r\n          else{\r\n            formIsValid = formIsValid && state.inputs[inputID].isValid\r\n          }\r\n        }  \r\n      return {\r\n        ...state,\r\n        inputs:{\r\n          ...state.inputs,\r\n          [action.inputID]:{value: action.value, isValid:action.isValid}\r\n        },\r\n        isValid:formIsValid\r\n      }\r\n      case \"SET\":\r\n        return {\r\n          inputs:action.value,\r\n          isValid:action.isValid\r\n        }\r\n      default:\r\n        return state\r\n    }\r\n  }\r\nexport const useForm = (input,iniVal)=>{\r\n    const [formState,dispatch] = useReducer(formReducer,{\r\n        inputs: input,\r\n        isValid: iniVal\r\n      })\r\n    const InputHandler = useCallback((id,val,isValid)=>{\r\n        dispatch({\r\n          type:\"CHANGE\",\r\n          value:val,\r\n          isValid:isValid,\r\n          inputID:id\r\n        })\r\n    \r\n      },[])\r\n      const setForm = useCallback((data, valid)=>{\r\n        dispatch({\r\n          type:\"SET\",\r\n          value: data,\r\n          isValid:valid\r\n        })\r\n      },[])\r\n      return [formState , InputHandler , setForm];\r\n}","import React , { createContext } from \"react\"\r\n\r\n\r\nexport const AuthContext = createContext({\r\n    isLoggedIn : false,\r\n    userId:null,\r\n    token:null,\r\n    login:()=>{},\r\n    logout:()=>{}\r\n});","import React, { useEffect, useRef, useState } from \"react\"\nimport Button from './Button'\nimport './ImageUpload.css'\n\n\nconst ImageUpload = props =>{\n  const filePickerRef = useRef();\n  const [file,setFile] = useState()\n  const [previewUrl,setPreviewUrl] = useState()\n  const [isValid,setIsValid] = useState(false)\n  const PickImageHandler = ()=>{\n    filePickerRef.current.click();\n  }\n  useEffect(()=>{\n    if(!file){\n      return;\n    }\n    const fileReader = new FileReader()\n    fileReader.onload = () =>{\n      setPreviewUrl(fileReader.result)\n    }\n    fileReader.readAsDataURL(file)\n},[file])\n  const pickedHandler = (event)=>{\n    console.log(event.target);\n    let PickedFile;\n    let FileIsValid = isValid\n    if(event.target.files && event.target.files.length === 1){\n    PickedFile  = event.target.files[0]\n      setFile(PickedFile)\n      setIsValid(true)\n      FileIsValid = true\n    }\n    else{\n      FileIsValid = false\n    setIsValid(false) \n  }\n    props.onInput(props.id,PickedFile,FileIsValid) \n  }\n  return (\n    <div className =\"form-control\">\n      <input type=\"file\" ref={filePickerRef} onChange={pickedHandler} id={props.id} style={{display:\"none\"}} accept=\".jpg,.png,.jpeg\"></input>\n      <div className={`image-upload ${props.center && 'center'}`}>\n        <div className='image-upload__preview'>\n          {previewUrl && <img src={previewUrl} alt =\"Preview\"></img>}\n          {!previewUrl && <p>PLEASE Pick An Image!</p>}\n        </div>\n        <Button type=\"button\" onClick={PickImageHandler}>Pick Image</Button>\n      </div>\n    </div>\n  )\n}\n\nexport default ImageUpload","import React, { useCallback, useContext, useReducer, useState } from 'react';\nimport Input from \"../../shared/components/FormComponent/Input\"\nimport './NewPlace.css'\nimport Button from '../../shared/components/FormComponent/Button'\nimport { useForm } from '../../shared/hooks/form-hook';\nimport { AuthContext } from '../../shared/context/auth-context';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport { useHistory } from 'react-router-dom';\nimport ImageUpload from '../../shared/components/FormComponent/ImageUpload';\n\nconst NewPlace = () => {\n  const auth = useContext(AuthContext)\n  const [isLoading,setLoading] = useState(false)\n  const [error,setError] = useState()\n  const errorHandler = ()=>{\n    setError(null)\n  }\n  const history  = useHistory()\n  const [formState , InputHandler] = useForm({\n    title:{\n      value:\"\",\n      isValid: false\n    },\n    description:{\n      value:\"\",\n      isValid: false\n    },\n    address:{\n      value:\"\",\n      isValid: false\n    },\n    image:{\n      value:null,\n      isValid:false\n    }\n  },false);\n  \n  const submitHandler = async (event) =>{\n    event.preventDefault();\n    console.log(\"Inside SubmitHandler\");\n    setLoading(true)\n     try{\n       const formData = new FormData()\n       formData.append(\"title\",formState.inputs.title.value)\n       formData.append(\"description\",formState.inputs.description.value)\n       formData.append(\"address\",formState.inputs.address.value)\n       formData.append(\"creator\",auth.userId)\n       formData.append(\"image\",formState.inputs.image.value)\n       const response = await fetch(process.env.REACT_APP_BACKEND_URL+\"/places\",{\n         method:\"POST\",\n         headers:{\n           Authorization: \"Bearer \"+auth.token\n         },\n         body:formData\n       });\n       const responseData = await response.json()\n       console.log(responseData);\n       history.push('/')\n     }catch(err){\n       setError(err)\n        console.log(err.message);\n     }\n     setLoading(false)\n  }\n  \n  return (\n    <React.Fragment>\n     <ErrorModal onClear={errorHandler} error={error} />\n     {isLoading && <LoadingSpinner asOverlay/>}\n    <form className=\"place-form\" onSubmit = {submitHandler}>\n      <Input id = \"title\" element = \"input\" type=\"text\" label=\"Title\" errorText = \"Please Enter A Valid Title\" onInput={InputHandler}/>\n      <Input id=\"description\" element = \"textarea\" label=\"Description\" errorText = \"Valid Placeholder\" onInput={InputHandler}/>\n      <Input id = \"address\" element = \"input\" type=\"text\" label=\"Address\" errorText = \"Please Enter A Valid Address\" onInput={InputHandler}/>\n      <ImageUpload id=\"image\" onInput={InputHandler} errorText=\"Please Provide An Image\"/>\n      <div className=\"add-place\">\n      <Button type=\"submit\" disabled={!formState.isValid} > ADD PLACE </Button>\n      </div>\n    </form>\n    </React.Fragment>\n  )\n};\n\nexport default NewPlace;","import React from 'react';\n\nimport './MainHeader.css';\n\nconst MainHeader = props => {\n  return <header className=\"main-header\">{props.children}</header>;\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { AuthContext } from '../../context/auth-context';\n\nimport './NavLinks.css';\n\nconst NavLinks = props => {\n  const auth = useContext(AuthContext);\n  return <ul className=\"nav-links\">\n    <li>\n      <NavLink to=\"/\" exact>ALL USERS</NavLink>\n    </li>\n    {auth.isLoggedIn && <li>\n      \n      <NavLink to={`/${auth.userId}/places`}>MY PLACES</NavLink>\n    </li>}\n    {auth.isLoggedIn && <li>\n      <NavLink to=\"/places/new\">ADD PLACE</NavLink>\n    </li>}\n    {!auth.isLoggedIn && <li>\n      <NavLink to=\"/auth\">AUTHENTICATE</NavLink>\n    </li>}\n    {auth.isLoggedIn && <li><button onClick ={auth.logout} >LogOut</button></li>}\n  </ul>\n};\n\nexport default NavLinks;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './SideDrawer.css';\n\nconst SideDrawer = props => {\n  const content = <aside className=\"side-drawer\" onClick={props.OnClick}>{props.children}</aside>;\n\n  return ReactDOM.createPortal(content, document.getElementById('drawer-hook'));\n};\n\nexport default SideDrawer;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport MainHeader from './MainHeader';\nimport NavLinks from './NavLinks';\nimport SideDrawer from './SideDrawer';\nimport './MainNavigation.css';\nimport BackDrop from '../UIElements/Backdrop'\n\nconst MainNavigation = props => {\n    const [drawerIsOpen,setDrawerIsOpen]= useState(false);\n    const openDrawer = e =>{\n        setDrawerIsOpen(true);\n    }\n    const closeDrawer = e =>{\n        setDrawerIsOpen(false);\n    }\n    return (\n    <React.Fragment>\n        {drawerIsOpen?<BackDrop onClick={closeDrawer}/>:null}\n        {drawerIsOpen?<SideDrawer onClick={closeDrawer}>\n        <nav className=\"main-navigation__drawer-nav\">\n          <NavLinks />\n        </nav>\n      </SideDrawer>:null}\n      <MainHeader>\n        <button className=\"main-navigation__menu-btn\" onClick={openDrawer}>\n          <span />\n          <span />\n          <span />\n        </button>\n        <h1 className=\"main-navigation__title\">\n          <Link to=\"/\">travelogue</Link>\n        </h1>\n        <nav className=\"main-navigation__header-nav\">\n          <NavLinks />\n        </nav>\n      </MainHeader>\n    </React.Fragment>\n  );\n};\n\nexport default MainNavigation;\n","import React,{useRef,useState,useEffect} from \"react\"\r\n\r\nimport './Map.css'\r\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\r\n \r\nmapboxgl.accessToken = 'pk.eyJ1Ijoic3VkaGFuc2h1bmF1dGl5YWw3NzciLCJhIjoiY2twcGpqMHU2MDhkbTJ2cXpjcHMxN2NwNiJ9.tpjGbrYNQhW6uofw117KVQ';\r\n\r\nconst Map  = (props) =>{\r\nconst mapContainer = useRef(null);\r\nconst map = useRef(null);\r\nconst [lng, setLng] = useState(props.lng);\r\nconst [lat, setLat] = useState(props.lat);\r\nconst [zoom, setZoom] = useState(props.zoom);\r\nuseEffect(() => {\r\n    if (map.current) return; // initialize map only once\r\n    map.current = new mapboxgl.Map({\r\n    container: mapContainer.current,\r\n    style: 'mapbox://styles/mapbox/streets-v11',\r\n    center: [lng, lat],\r\n    zoom: zoom\r\n    });\r\n    // Set options\r\n    var marker = new mapboxgl.Marker({\r\n    color: \"#FFFFFF\",\r\n    draggable: true\r\n  }).setLngLat([lng,lat])\r\n  .addTo(map.current);\r\n    },[]);\r\n    return (\r\n        <div className={`map ${props.className}`} style = {props.style}>\r\n            <div ref={mapContainer} className=\"map-container\" />\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Map","import React, { useCallback, useEffect, useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  Switch\n} from 'react-router-dom';\n\nimport Users from './user/pages/Users';\nimport NewPlace from './places/pages/NewPlace';\nimport MainNavigation from './shared/components/Navigation/MainNavigation';\nimport UserPlaces from './places/pages/UserPlaces';\nimport UpdatePlace from './places/pages/UpdatePlace';\nimport Auth from './user/pages/Auth';\nimport HomePage from \"./user/components/Starting\"\nimport { AuthContext } from './shared/context/auth-context';\nlet  LogoutTimer;\nconst App = () => {\n  const [tokenExpire,setTokenExpire] = useState()\n  const [token , setToken] = useState(false);\n  const [userId,setUserId] = useState()\n  const login= useCallback((uid,token,exp)=>{\n    setUserId(uid)\n    setToken(token)\n    const expirationDate = exp || new Date(new Date().getTime() + 1000*60*60) //1000*60*60\n    setTokenExpire(expirationDate)\n    localStorage.setItem('userData',JSON.stringify({userId:uid,token,expire:expirationDate.toISOString()}))\n  },[])\n  const logout= useCallback(()=>{\n    setUserId(null)\n    setTokenExpire(null)\n    setToken(null)\n    localStorage.removeItem('userData')\n  },[])\n  useEffect(()=>{\n    const storedData = JSON.parse(localStorage.getItem('userData'))\n    if(storedData){\n      if(storedData.token && new Date(storedData.expire)> new Date()){\n        login(storedData.userId,storedData.token,new Date(storedData.expire) )\n      }\n    }\n  },[login])\n  useEffect(()=>{\n    if(token && tokenExpire){\n      const left = tokenExpire.getTime() - new Date().getTime()\n      LogoutTimer =  setTimeout(logout,left)\n    }else{\n      clearTimeout(LogoutTimer)\n    }\n  },[token,logout,tokenExpire]) \n  let routes;\n  if(token){\n    routes = (\n      <Switch>\n          <Route path=\"/\" exact>\n          <React.Fragment>\n            <HomePage />\n            <Users />\n            </React.Fragment>\n          </Route>\n          <Route path=\"/:userID/places\" exact>\n            <UserPlaces/>\n          </Route>\n          <Route path=\"/places/new\" exact>\n            <NewPlace />\n          </Route>\n          <Route path=\"/places/:pid\" exact>\n            <UpdatePlace />\n          </Route>\n          <Redirect to=\"/\" />\n        </Switch>\n    )\n  }else{\n    routes = (\n      <Switch>\n          <Route path=\"/\" exact>\n          <React.Fragment>\n            <HomePage />\n            <Users />\n            </React.Fragment>\n          </Route>\n          <Route path=\"/:userID/places\" exact>\n            <UserPlaces/>\n          </Route>\n          <Route path=\"/auth\" exact>\n            <Auth/>\n          </Route>\n          <Redirect to=\"/auth\" />\n        </Switch>\n    )\n  } \n  return (\n    <AuthContext.Provider value={{isLoggedIn:!!token,userId:userId,token:token,login:login,logout:logout}}>\n      <Router>\n      <MainNavigation />\n      <main>\n        {routes}\n      </main>\n    </Router>\n    </AuthContext.Provider>\n  );\n};\n\nexport default App;\n","import React, { useContext, useState ,useEffect } from \"react\"\r\nimport './PlaceItem.css'\r\nimport Card from \"../../shared/components/UIElements/Card\"\r\nimport Button from \"../../shared/components/FormComponent/Button\"\r\nimport Modal from \"../../shared/components/UIElements/Modal\"\r\nimport Map from \"../../shared/components/UIElements/Map\"\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\"\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\"\r\nimport { AuthContext } from \"../../shared/context/auth-context\"\r\nconst PlaceItem = (props)=>{\r\n    const auth = useContext(AuthContext);\r\n    const [showConfirmModal,setSCM] = useState(false)\r\n    const [isLoading,setLoading] = useState(false)\r\n    const [error,setError] = useState()\r\n    const ErrorHandler = ()=>setError(null)\r\n    const showDeleteHandler = ()=>{ \r\n    setSCM(true)\r\n    }\r\n    const cancelDeleteHandler = ()=>setSCM(false);\r\n    const confirmDeleteHandler = async ()=>{\r\n        console.log(\"Deleting\")\r\n        setSCM(false)\r\n        setLoading(true)\r\n        try{\r\n            const response = await fetch(process.env.REACT_APP_BACKEND_URL+`/places/${props.id}`,{\r\n                method:\"DELETE\",  \r\n                headers:{\r\n                    Authorization: \"Bearer \"+auth.token\r\n                }\r\n            })\r\n            props.onDelete(props.id)\r\n        }catch(err){\r\n            setError(err.message)\r\n        }\r\n        setLoading(false)\r\n    }\r\n    const [showMap,setshowMap] = useState(false);\r\n    const OpenMapHandler = () => setshowMap(true);\r\n    const CloseMapHandler = () => setshowMap(false);\r\n return(\r\n     <React.Fragment>\r\n         <ErrorModal error={error} onClear={ErrorHandler}/>\r\n          {/* <Modal show={showMap} onCancel={CloseMapHandler} header={props.address} \r\n            contentClass=\"place-item__modal-content\"\r\n            footerClass =\"place-item__modal-actions\"\r\n            footer={<Button onClick={CloseMapHandler}>Close</Button>}\r\n         >\r\n             <div className =\"map-container\">\r\n                    <Map zoom ={5} lng = {props.coordinates.lng} lat ={props.coordinates.lat}/>\r\n             </div>\r\n         </Modal> */}\r\n         <Modal show={showConfirmModal}\r\n         onCancel = {cancelDeleteHandler} \r\n         header=\"Are You Sure?\" footer ={\r\n             <React.Fragment>\r\n                 <Button inverse onClick={cancelDeleteHandler}>\r\n                     Cancel\r\n                 </Button>\r\n                 <Button danger onClick ={confirmDeleteHandler}>\r\n                     Delete\r\n                 </Button>\r\n             </React.Fragment>\r\n         }>\r\n             Are you Sure ? \r\n             It can't be undone\r\n         </Modal> \r\n         <li className=\"place-item\">\r\n         <Card className=\"place-item__content\">\r\n         <div className=\"place-item__image\">\r\n             <img src = {`${process.env.REACT_APP_ASSET_URL}/${props.img}`} alt={props.title}/>\r\n         </div>\r\n         <div className=\"place-item__info\">\r\n             <h2>{props.title}</h2>\r\n             <h4>{props.address}</h4>\r\n             <p>{`\"${props.description}\"`}</p>\r\n         </div>\r\n         <div className=\"place-item__actions\">\r\n            {/* <Button inverse onClick={OpenMapHandler}>Open On A Map</Button> */}\r\n            {auth.userId === props.creatorID && <Button to ={`/places/${props.id}`}>Edit</Button>}\r\n            {auth.userId === props.creatorID && <Button danger onClick = {showDeleteHandler}>Delete</Button>}\r\n         </div>\r\n         </Card>\r\n     </li>\r\n     </React.Fragment>\r\n )\r\n}\r\n\r\nexport default PlaceItem;","import React, { useContext } from \"react\"\r\nimport Card from \"../../shared/components/UIElements/Card\"\r\nimport './PlaceList.css'\r\nimport PlaceItem from \"./PlaceItem\"\r\nimport { NavLink } from \"react-router-dom\"\r\nimport { AuthContext } from \"../../shared/context/auth-context\"\r\n\r\nconst PlaceList = (props) =>{\r\n    const auth = useContext(AuthContext)\r\n    if(!props.items || props.items.length === 0){\r\n        return (\r\n            <div className=\"container\">\r\n                <h2> NO Place Found !</h2>\r\n                <div className=\"Link\">\r\n                <NavLink to=\"/places/new\">Add A Place</NavLink>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <ul className=\"place-list\">\r\n            {props.items.map(place => <PlaceItem onDelete={props.onDeletePlace} key={place.id} id = {place.id} img={place.image} title = {place.title} description={place.description} address={place.address} creatorID = {place.creator} coordinates={place.location} />)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default PlaceList;","import React, { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport PlaceList from \"../components/PlaceList\";\r\nconst UserPlaces = () =>{\r\n    const [loadedPlaces,setLoadedPlaces] = useState()\r\n    const [isLoading,setLoading] = useState(false)\r\n    const [error,setError] = useState()\r\n    const ErrorHandler = ()=>setError(null)\r\n    const userid = useParams().userID;\r\n    useEffect(()=>{\r\n        const sendRequest = async()=>{\r\n            setLoading(true)\r\n            try{\r\n                const response = await fetch(process.env.REACT_APP_BACKEND_URL+`/places/user/${userid}`)\r\n                const responseData = await response.json()    \r\n                setLoadedPlaces(responseData.place || [])\r\n            }catch(err){\r\n                setError(err.message)\r\n            }\r\n            setLoading(false)\r\n        }\r\n        sendRequest()\r\n    },[userid])\r\n    const DeletePlace= (pid)=>{\r\n        setLoadedPlaces(prev =>prev.filter(place => place.id!==pid))\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal onClear={ErrorHandler} error={error}/>\r\n            {isLoading && <div><LoadingSpinner asOverlay/></div>}\r\n            {!isLoading && loadedPlaces && <PlaceList items={loadedPlaces} onDeletePlace={DeletePlace}/>}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default UserPlaces;              ","import React, { useContext, useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router\";\r\nimport Input from \"../../shared/components/FormComponent/Input\";\r\nimport Button from \"../../shared/components/FormComponent/Button\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\"\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\";\r\nimport './NewPlace.css'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nconst UpdatePlace = props =>{\r\n    const [loadedPlace,setLoadedPlace] = useState()\r\n    const [isLoading,setLoading] = useState(false)\r\n    const [error,setError] = useState()\r\n    const ErrorHandler = ()=>setError(null)\r\n    const PID = useParams().pid;\r\n    const history = useHistory()\r\n    const auth = useContext(AuthContext)\r\n    const [formState, inputHandler,setForm] = useForm({\r\n        title:{\r\n            value:\"\",\r\n            isValid : false\r\n        },\r\n        description:{\r\n            value:\"\",\r\n            isValid:false\r\n        }\r\n    },false)\r\n    useEffect(()=>{\r\n        const sendRequest = async()=>{\r\n            setLoading(true)\r\n            try{\r\n                const response = await fetch(process.env.REACT_APP_BACKEND_URL+`/places/${PID}`)\r\n                const responseData = await response.json()\r\n\r\n                setLoadedPlace(responseData.place)\r\n                setForm({\r\n                    title:{\r\n                        value:responseData.place.title,\r\n                        isValid : true\r\n                    },\r\n                    description:{\r\n                        value:responseData.place.description,\r\n                        isValid:true\r\n                    }\r\n                },true)\r\n                console.log(loadedPlace);    \r\n            }catch(err){\r\n                setError(err.message)\r\n            }\r\n            setLoading(false)\r\n        }\r\n        sendRequest()\r\n    },[setLoadedPlace,setForm,PID])\r\n    \r\n    const submitForm = async (event)=>{\r\n        event.preventDefault();\r\n        try{\r\n            setLoading(true)\r\n            const response = await fetch(process.env.REACT_APP_BACKEND_URL+`/places/${PID}`,{\r\n                method:\"PATCH\",\r\n                body:JSON.stringify({\r\n                    title:formState.inputs.title.value,\r\n                    description:formState.inputs.description.value\r\n                }),\r\n                headers:{\r\n                    Authorization:'Bearer '+auth.token,\r\n                    \"Content-Type\":\"application/json\"\r\n                }\r\n            });\r\n            setLoading(false)\r\n            history.push(\"/\"+auth.userId+\"/places\")\r\n        }catch(err){\r\n            setLoading(false)\r\n        }\r\n    }\r\n    if(!isLoading && !loadedPlace){\r\n        return (<h2>NOT FOUND</h2>)\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={ErrorHandler}/>\r\n            {isLoading && <div><LoadingSpinner /></div>}\r\n            {!isLoading && loadedPlace && <form className=\"place-form\" onSubmit={submitForm}>\r\n            <Input id =\"title\" element=\"input\" type=\"text\" errorText=\"Enter Valid Title\" label=\"Title\" onInput={inputHandler} value={formState.inputs.title.value} valid={formState.inputs.title.isValid}/>          \r\n            <Input id =\"description\" element=\"textarea\" type=\"text\" errorText=\"Enter Valid Description\" label=\"Description\" onInput={inputHandler} value={formState.inputs.description.value} valid = {formState.inputs.title.isValid}/>\r\n            <Button type = \"submit\" disabled = {!formState.isValid}>\r\n                UPDATE PLACE\r\n                </Button>          \r\n        </form>}\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\n\r\nexport default UpdatePlace;","import React, { useContext, useState } from \"react\"\r\nimport Card from \"../../shared/components/UIElements/Card\"\r\nimport './Auth.css'\r\nimport Input from \"../../shared/components/FormComponent/Input\"\r\nimport Button from \"../../shared/components/FormComponent/Button\"\r\nimport LoadingSpinner from \"../../shared/components/UIElements/LoadingSpinner\"\r\nimport {useForm} from \"../../shared/hooks/form-hook\"\r\nimport { AuthContext } from \"../../shared/context/auth-context\"\r\nimport ImageUpload from \"../../shared/components/FormComponent/ImageUpload\"\r\n\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\"\r\nconst Auth = (props) =>{\r\n    const auth = useContext(AuthContext);\r\n    const [loginMode,setLoginMode] = useState(true);\r\n    const [loading,setLoading] = useState(false);\r\n    const [error,setError] = useState()\r\n    const [formState,inputHandler,setForm] = useForm({\r\n        email:{\r\n            value:\"\",\r\n            isValid:false\r\n        },\r\n        password:{\r\n            value:\"\",\r\n            isValid:false\r\n        }\r\n    },false);\r\n    const authSubmitHandler = async (event)=>{\r\n        event.preventDefault();\r\n        // console.log(formState.inputs);\r\n        setLoading(true)\r\n        if(loginMode){\r\n            try{\r\n                setLoading(true)\r\n            const response = await fetch(process.env.REACT_APP_BACKEND_URL+\"/users/login\",{\r\n            method:\"POST\",\r\n            headers:{\r\n                \"Content-type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                email:formState.inputs.email.value,\r\n                password:formState.inputs.password.value,\r\n            })\r\n        });\r\n\r\n            // console.log(response);\r\n            const responseData = await response.json()\r\n            // console.log(responseData);\r\n            if(!response.ok){\r\n                throw new Error(responseData.message) \r\n            }\r\n            setLoading(false)\r\n            auth.login(responseData.userId,responseData.token)\r\n        }\r\n        catch(err){\r\n                setLoading(false)\r\n                console.log(\"Error: \",err);\r\n                setError(err.message || \"Something Went Wrong!Please Try Again\")\r\n            }\r\n            \r\n        }\r\n        else{\r\n            try{\r\n                const formData = new FormData()\r\n                formData.append(\"email\",formState.inputs.email.value)\r\n                formData.append(\"username\",formState.inputs.name.value)\r\n                formData.append(\"password\",formState.inputs.password.value)\r\n                formData.append(\"image\",formState.inputs.image.value)\r\n            const response = await fetch(process.env.REACT_APP_BACKEND_URL+\"/users/signup\",{\r\n            method:\"POST\",\r\n            body:formData\r\n        })\r\n            const responseData = await response.json()\r\n\r\n            console.log(responseData);\r\n            if(!response.ok){\r\n                throw new Error(responseData.message)\r\n            }\r\n            setLoading(false)\r\n            auth.login(responseData.userId,responseData.token)\r\n        }\r\n        catch(err){\r\n                setLoading(false)\r\n                console.log(\"Error\",err);\r\n                setError(err.message || \"Something Went Wrong!Please Try Again\")\r\n            }\r\n        }\r\n    }\r\n    const switchModeHandler = ()=>{\r\n        if(!loginMode){\r\n            setForm({\r\n            ...formState.inputs,\r\n                name:undefined,\r\n                image:undefined\r\n            },formState.inputs.email.isValid && formState.inputs.password.isValid)\r\n        }\r\n        else {\r\n            setForm({\r\n                ...formState.inputs,\r\n                name:{\r\n                    value:\"\",\r\n                    isValid:false\r\n                },\r\n                image:{\r\n                    value:null,\r\n                    isValid:false\r\n                }\r\n            },false)\r\n        }\r\n        setLoginMode(prev=> !prev);\r\n    }\r\n    const errorHandler= ()=>{\r\n        setError(null)\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={errorHandler} />\r\n            <Card className = \"authentication\">\r\n            {loading && <LoadingSpinner asOverlay/>}\r\n            <h2>{loginMode?`LOGIN`: \"SIGN UP\"}</h2>\r\n            <hr/>\r\n            <form onSubmit={authSubmitHandler}>\r\n            {!loginMode && <Input onInput={inputHandler} id=\"name\" type = \"text\" element=\"input\" label = \"USERNAME\"/>}\r\n            {!loginMode && <ImageUpload center onInput={inputHandler} id=\"image\" errorText=\"Please provide an image\"/>}\r\n            <Input onInput={inputHandler} id=\"email\" type = \"email\" element=\"input\" label = \"EMAIL\"/>\r\n            <Input onInput={inputHandler} id=\"password\" type = \"password\" element=\"input\" label = \"PASSWORD\"/>\r\n            <Button disabled ={!formState.isValid}>{loginMode?`LOGIN`: \"SIGN UP\"}</Button>\r\n            </form>\r\n            <br/>\r\n            <Button onClick={switchModeHandler}>&rarr; {!loginMode?`LOGIN`: \"SIGN UP\"}</Button>\r\n        </Card>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default Auth;","import React from \"react\"\r\n\r\nimport './Starting.css'\r\n\r\nconst HomePage = ()=>{\r\n    return (\r\n        <>\r\n        <div className = \"starter\">\r\n            <div className=\"starter-heading\">\r\n                Explore And Share!\r\n            </div>\r\n        </div>\r\n        <div className= \"starter-after\">\r\n                OUR USERS\r\n        </div>\r\n        </>\r\n    )\r\n}\r\nexport default HomePage;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}